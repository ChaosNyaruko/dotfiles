<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<title>grim: Grab images from a Wayland compositor</title>

    
    <link rel="icon" type="image/svg+xml" href="/static/logo.svg" />
    <link rel="icon" type="image/png" href="/static/logo.png" sizes="any" />
    
    <link rel="stylesheet" href="/static/hub.sr.ht/main.min.0644b604.css">
    
    
    
    
  </head>
  <body>
    
    
    
    
    <nav class="container navbar navbar-light navbar-expand-sm">
      
<span class="navbar-brand">
  <span class="icon icon-circle " aria-hidden="true"><svg width="22" height="22" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"/></svg>
</span>
  <a href="https://sr.ht">
    sourcehut
  </a>
</span>

<ul class="navbar-nav">
  
</ul>
<div class="login">
  
  <span class="navbar-text">
    
    <a href="https://meta.sr.ht/oauth/authorize?client_id=1ee786dfb8b28f65&amp;scopes=profile&amp;state=%2F~emersion%2Fgrim%2F%3F" rel="nofollow">Log in</a>
    &mdash;
    <a href="https://meta.sr.ht">Register</a>
    
  </span>
  
</div>
    </nav>
    
    
<div class="header-tabbed">
  <div class="container">
    <h2>
  <a
    href="/~emersion/"
  >~emersion</a>/<wbr>grim
</h2>

<ul class="nav nav-tabs">
  
  <li
    class="nav-item nav-text vis-unlisted"
    
    title="This project is only visible to those who know the URL."
    
  >
    
    Unlisted
    
  </li>
  
  <li class="nav-item">
    
<a
  class="nav-link active "
  href="/~emersion/grim/">summary</a>

  </li>
  
  <li class="nav-item">
    <a
      class="nav-link"
      href="https://wayland.emersion.fr/grim/"
      rel="noopener nofollow"
    >website&nbsp;<span class="icon icon-external-link-alt " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 0 0 384 303.765V448H64V128h264a24.003 24.003 0 0 0 16.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"/></svg>
</span></a>
  </li>
  
  
  <li class="nav-item">
  
    
<a
  class="nav-link  "
  href="https://git.sr.ht/~emersion/grim">source</a>

  
  </li>
  
  
  <li class="nav-item">
  
    
<a
  class="nav-link  "
  href="https://lists.sr.ht/~emersion/grim-dev">mailing list</a>

  
  </li>
  
  
  <li class="nav-item">
  
    
<a
  class="nav-link  "
  href="https://todo.sr.ht/~emersion/grim">tickets</a>

  
  </li>
  
  
  
</ul>
  </div>
</div>

<div class="header-extension">
  <div class="container">Grab images from a Wayland compositor</div>
</div>


<div class="container">
  
  <div class="row">
    <div class="col-md-12">
      <div class="event-list project-events">
        
        
<div class="event">

  <style>.highlight { background: inherit; }</style><div class='markdown'><p><a href="https://todo.sr.ht/~emersion/grim/100" rel="nofollow noopener">#100</a> Grim captures incorrect area in a multi monitor setup</p>
</div>
  <style>.highlight { background: inherit; }</style><div class='markdown'><p><a href="https://todo.sr.ht/~big_gnome" rel="nofollow noopener">~big_gnome</a> commented on <a href="https://todo.sr.ht/~emersion/grim" rel="nofollow noopener">grim</a> todo</p>
</div>

  <small class="text-muted">
    <span title="2025-02-05 04:06:18 UTC">5 months ago</span>
    
  </small>
</div>

        
        
<div class="event">

  <style>.highlight { background: inherit; }</style><div class='markdown'><p><a href="https://todo.sr.ht/~emersion/grim/98" rel="nofollow noopener">#98</a> Blurry with fractional scaling</p>
</div>
  <style>.highlight { background: inherit; }</style><div class='markdown'><p><a href="https://todo.sr.ht/~mstoeckl" rel="nofollow noopener">~mstoeckl</a> commented on <a href="https://todo.sr.ht/~emersion/grim" rel="nofollow noopener">grim</a> todo</p>
</div>

  <small class="text-muted">
    <span title="2025-01-22 18:14:13 UTC">6 months ago</span>
    
  </small>
</div>

        
        <div class="view-more">
          <a
            href="/~emersion/grim/feed"
            class="btn btn-link"
          >View project feed&nbsp;<span class="icon icon-caret-right " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"/></svg>
</span></a>
          <a
            href="/~emersion/grim/feed.rss"
            class="btn btn-link"
          >RSS&nbsp;<span class="icon icon-caret-right " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"/></svg>
</span></a>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    
    <div class="col-md-10 project-summary">
      
      
      <div class="readme">
        <style>.highlight { background: inherit; }</style><div class='markdown'><h2 id="grim"><a href="#grim" rel="nofollow noopener">#</a>grim</h2>
<blockquote>
<p><strong>Warning</strong>: this project has <a href="https://gitlab.freedesktop.org/emersion/grim" rel="nofollow noopener">moved to gitlab.freedesktop.org</a>.</p>
</blockquote>
<p>Grab images from a Wayland compositor. Works great with <a href="https://github.com/emersion/slurp" rel="nofollow noopener">slurp</a>.</p>
<h3 id="example-usage"><a href="#example-usage" rel="nofollow noopener">#</a>Example usage</h3>
<p>Screenshoot all outputs:</p>
<div class="highlight"><pre><span></span>grim
</pre></div>
<p>Screenshoot a specific output:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span>-o<span class="w"> </span>DP-1
</pre></div>
<p>Screenshoot a region:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span>-g<span class="w"> </span><span class="s2">"10,20 300x400"</span>
</pre></div>
<p>Select a region and screenshoot it:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span>-g<span class="w"> </span><span class="s2">"</span><span class="k">$(</span>slurp<span class="k">)</span><span class="s2">"</span>
</pre></div>
<p>Use a custom filename:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span><span class="k">$(</span>xdg-user-dir<span class="w"> </span>PICTURES<span class="k">)</span>/<span class="k">$(</span>date<span class="w"> </span>+<span class="s1">'%s_grim.png'</span><span class="k">)</span>
</pre></div>
<p>Screenshoot and copy to clipboard:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span>-<span class="w"> </span><span class="p">|</span><span class="w"> </span>wl-copy
</pre></div>
<p>Grab a screenshot from the focused monitor under Sway, using <code>swaymsg</code> and
<code>jq</code>:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>swaymsg<span class="w"> </span>-t<span class="w"> </span>get_outputs<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">'.[] | select(.focused) | .name'</span><span class="k">)</span>
</pre></div>
<p>Grab a screenshot from the focused window under Sway, using <code>swaymsg</code> and
<code>jq</code>:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span>-g<span class="w"> </span><span class="s2">"</span><span class="k">$(</span>swaymsg<span class="w"> </span>-t<span class="w"> </span>get_tree<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-j<span class="w"> </span><span class="s1">'.. | select(.type?) | select(.focused).rect | "\(.x),\(.y) \(.width)x\(.height)"'</span><span class="k">)</span><span class="s2">"</span>
</pre></div>
<p>Pick a color, using ImageMagick:</p>
<div class="highlight"><pre><span></span>grim<span class="w"> </span>-g<span class="w"> </span><span class="s2">"</span><span class="k">$(</span>slurp<span class="w"> </span>-p<span class="k">)</span><span class="s2">"</span><span class="w"> </span>-t<span class="w"> </span>ppm<span class="w"> </span>-<span class="w"> </span><span class="p">|</span><span class="w"> </span>convert<span class="w"> </span>-<span class="w"> </span>-format<span class="w"> </span><span class="s1">'%[pixel:p{0,0}]'</span><span class="w"> </span>txt:-
</pre></div>
<h3 id="building-from-source"><a href="#building-from-source" rel="nofollow noopener">#</a>Building from source</h3>
<p>Install dependencies:</p>
<ul>
<li>meson</li>
<li>wayland</li>
<li>pixman</li>
<li>libpng</li>
<li>libjpeg (optional)</li>
</ul>
<p>Then run:</p>
<div class="highlight"><pre><span></span>meson<span class="w"> </span>build
ninja<span class="w"> </span>-C<span class="w"> </span>build
</pre></div>
<p>To run directly, use <code>build/grim</code>, or if you would like to do a system
installation (in <code>/usr/local</code> by default), run <code>ninja -C build install</code>.</p>
<h3 id="contributing"><a href="#contributing" rel="nofollow noopener">#</a>Contributing</h3>
<p>Report bugs on the <a href="https://todo.sr.ht/~emersion/grim" rel="nofollow noopener">issue tracker</a>, send patches on the <a href="https://lists.sr.ht/~emersion/grim-dev" rel="nofollow noopener">mailing list</a>.</p>
<p>Join the IRC channel: <a href="ircs://irc.libera.chat/#emersion" rel="nofollow noopener">#emersion on Libera Chat</a>.</p>
<h3 id="license"><a href="#license" rel="nofollow noopener">#</a>License</h3>
<p>MIT</p>
</div>
      </div>
      
      
    </div>
    
  </div>
  
</div>


    
    
  </body>
</html>